import{_ as g,l as _,m as r,v as y,A as x,k as v}from"./entry.f78ba159.js";const T={mounted(){const c=document.createElement("script");c.src="https://code.jquery.com/jquery-3.6.0.min.js",c.integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=",c.crossOrigin="anonymous",c.defer=!0,document.head.appendChild(c);const s=document.createElement("script");s.src="https://unpkg.com/tesseract.js@2.0.2/dist/tesseract.min.js",s.defer=!0,document.head.appendChild(s),this.runSpecialProcess()},methods:{copyToClipboard(){var c=document.getElementById("outputText");c.select(),document.execCommand("Copy"),alert(`コピーしました！ :  
`+c.value)},runSpecialProcess(){document.getElementById("image_zone").addEventListener("change",s,!1);function s(n){const t=n.target.files[0];t.type.match("image.*")&&m(t)}function p(){document.getElementById("outputText").value="画像から文字を抽出中"}function m(n){p(),h(n).then(function(t){Tesseract.recognize(t,"jpn").then(({data:{text:i}})=>{const e=document.getElementById("outputText");e.value=i})}).catch(function(t){console.error(t)})}function h(n){return new Promise(function(t,i){d(n).then(function(e){l(e).then(function(o){const a=document.getElementById("canvas"),f=a.getContext("2d"),u=2;a.width=o.width*u,a.height=o.height*u,f.drawImage(o,(o.width-a.width/u)/2,(o.height-a.height/u)/2,a.width/u,a.height/u,0,0,a.width,a.height),t(a)}).catch(function(o){i(o)})}).catch(function(e){i(e)})})}function d(n){return new Promise(function(t,i){const e=new FileReader;e.onload=function(){t(e.result)},e.onerror=function(o){i(o)},e.readAsDataURL(n)})}function l(n){return new Promise(function(t,i){const e=new Image;e.onload=function(){t(e)},e.onerror=function(o){i(o)},e.src=n})}$("input#image_zone").on("change",function(){var n=$(this).prop("files")[0];$("p.image_zone_fileState").text(n.name)})}}},w={id:"wrap"},E=r("header",null,[r("h1",null,"「画像からテキストを抽出する」ページです！")],-1),b=x('<section class="inputWrap"><div class="inputFile"><label class="image_zone_label"><input type="file" id="image_zone" accept="image/*"><i class="fas fa-image"></i>画像を選択する </label><p class="image_zone_fileState"></p></div><p class="sub">※画像を読みこむと、日本語テキストを抽出します</p><canvas id="canvas"></canvas></section>',1),C={class:"outputWrap"},I=r("i",{class:"fas fa-clipboard"},null,-1),S=r("p",{class:"sub"}," ※抽出されたテキストを編集して、クリップボードにコピー出来ます ",-1),j=r("textarea",{id:"outputText",type:"text"},null,-1);function z(c,s,p,m,h,d){return v(),_("div",w,[E,r("main",null,[b,r("section",C,[r("button",{id:"copyText",onClick:s[0]||(s[0]=(...l)=>d.copyToClipboard&&d.copyToClipboard(...l))},[I,y("テキストをコピーする ")]),S,j])])])}const k=g(T,[["render",z]]);export{k as default};
